CREATE TABLE `meteringdata_wm` (
  `yyyymmddhhmmss` varchar(14) COLLATE utf8mb4_unicode_ci NOT NULL,
  `dst` int(11) NOT NULL DEFAULT 0,
  `mdev_id` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `mdev_type` varchar(20) COLLATE utf8mb4_unicode_ci NOT NULL,
  `ch1` double DEFAULT NULL,
  `ch2` double DEFAULT NULL,
  `ch3` double DEFAULT NULL,
  `ch4` double DEFAULT NULL,
  `ch5` double DEFAULT NULL,
  `ch6` double DEFAULT NULL,
  `ch7` double DEFAULT NULL,
  `device_id` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `device_type` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `hhmmss` varchar(6) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `meteringType` int(11) DEFAULT NULL,
  `value` double DEFAULT NULL,
  `writeDate` varchar(14) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `yyyymmdd` varchar(8) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contract_id` int(11) DEFAULT NULL,
  `enddevice_id` int(11) DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `meter_id` int(11) DEFAULT NULL,
  `modem_id` int(11) DEFAULT NULL,
  `supplier_id` int(11) NOT NULL,
  PRIMARY KEY (`yyyymmddhhmmss`,`dst`,`mdev_id`,`mdev_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
PARTITION BY RANGE COLUMNS(yyyymmddhhmmss)
(
 PARTITION METERINGDATA_WM_201909_01 VALUES LESS THAN ('20190911000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201909_02 VALUES LESS THAN ('20190921000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201909_03 VALUES LESS THAN ('20191001000000') ENGINE=InnoDB, 
 PARTITION METERINGDATA_WM_201910_01 VALUES LESS THAN ('20191011000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201910_02 VALUES LESS THAN ('20191021000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201910_03 VALUES LESS THAN ('20191101000000') ENGINE=InnoDB, 
 PARTITION METERINGDATA_WM_201911_01 VALUES LESS THAN ('20191111000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201911_02 VALUES LESS THAN ('20191121000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201911_03 VALUES LESS THAN ('20191201000000') ENGINE=InnoDB, 
 PARTITION METERINGDATA_WM_201912_01 VALUES LESS THAN ('20191211000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201912_02 VALUES LESS THAN ('20191221000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_201912_03 VALUES LESS THAN ('20200101000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202001_01 VALUES LESS THAN ('20200111000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202001_02 VALUES LESS THAN ('20200121000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202001_03 VALUES LESS THAN ('20200201000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202002_01 VALUES LESS THAN ('20200211000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202002_02 VALUES LESS THAN ('20200221000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202002_03 VALUES LESS THAN ('20200301000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202003_01 VALUES LESS THAN ('20200311000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202003_02 VALUES LESS THAN ('20200321000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202003_03 VALUES LESS THAN ('20200401000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202004_01 VALUES LESS THAN ('20200411000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202004_02 VALUES LESS THAN ('20200421000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202004_03 VALUES LESS THAN ('20200501000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202005_01 VALUES LESS THAN ('20200511000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202005_02 VALUES LESS THAN ('20200521000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202005_03 VALUES LESS THAN ('20200601000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202006_01 VALUES LESS THAN ('20200611000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202006_02 VALUES LESS THAN ('20200621000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202006_03 VALUES LESS THAN ('20200701000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202007_01 VALUES LESS THAN ('20200711000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202007_02 VALUES LESS THAN ('20200721000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202007_03 VALUES LESS THAN ('20200801000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202008_01 VALUES LESS THAN ('20200811000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202008_02 VALUES LESS THAN ('20200821000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202008_03 VALUES LESS THAN ('20200901000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202009_01 VALUES LESS THAN ('20200911000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202009_02 VALUES LESS THAN ('20200921000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202009_03 VALUES LESS THAN ('20201001000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202010_01 VALUES LESS THAN ('20201011000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202010_02 VALUES LESS THAN ('20201021000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202010_03 VALUES LESS THAN ('20201101000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202011_01 VALUES LESS THAN ('20201111000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202011_02 VALUES LESS THAN ('20201121000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202011_03 VALUES LESS THAN ('20201201000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202012_01 VALUES LESS THAN ('20201211000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202012_02 VALUES LESS THAN ('20201221000000') ENGINE=InnoDB,
 PARTITION METERINGDATA_WM_202012_03 VALUES LESS THAN ('20210101000000') ENGINE=InnoDB
);


CREATE UNIQUE INDEX PK_METERINGDATA_WM ON METERINGDATA_WM (`yyyymmddhhmmss`,`dst`,`mdev_id`,`mdev_type`);
ALTER TABLE METERINGDATA_WM ADD CONSTRAINT PK_METERINGDATA_WM PRIMARY KEY(`yyyymmddhhmmss`,`dst`,`mdev_id`,`mdev_type`);
