CREATE TABLE `meterevent` (
  `id` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `KIND` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `meterType` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `vendor` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `model` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `SUPPORT` bit(1) DEFAULT NULL,
  `TROUBLE_ADVICE` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `value` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `descr` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

CREATE TABLE `meterevent_log` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `OPEN_TIME` varchar(14) COLLATE utf8mb4_unicode_ci NOT NULL,
  `activator_id` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `METEREVENT_ID` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `ACTIVATOR_TYPE` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `writeTime` varchar(14) COLLATE utf8mb4_unicode_ci NOT NULL,
  `yyyymmdd` varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  `message` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `SUPPLIER_ID` int(11) DEFAULT NULL,
  `INTEGRATED` int(11) DEFAULT 0

) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
PARTITION BY RANGE COLUMNS(OPEN_TIME)
(
 PARTITION METEREVENT_LOG_201909_01 VALUES LESS THAN ('20190911000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201909_02 VALUES LESS THAN ('20190921000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201909_03 VALUES LESS THAN ('20191001000000') ENGINE=InnoDB, 
 PARTITION METEREVENT_LOG_201910_01 VALUES LESS THAN ('20191011000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201910_02 VALUES LESS THAN ('20191021000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201910_03 VALUES LESS THAN ('20191101000000') ENGINE=InnoDB, 
 PARTITION METEREVENT_LOG_201911_01 VALUES LESS THAN ('20191111000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201911_02 VALUES LESS THAN ('20191121000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201911_03 VALUES LESS THAN ('20191201000000') ENGINE=InnoDB, 
 PARTITION METEREVENT_LOG_201912_01 VALUES LESS THAN ('20191211000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201912_02 VALUES LESS THAN ('20191221000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_201912_03 VALUES LESS THAN ('20200101000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202001_01 VALUES LESS THAN ('20200111000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202001_02 VALUES LESS THAN ('20200121000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202001_03 VALUES LESS THAN ('20200201000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202002_01 VALUES LESS THAN ('20200211000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202002_02 VALUES LESS THAN ('20200221000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202002_03 VALUES LESS THAN ('20200301000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202003_01 VALUES LESS THAN ('20200311000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202003_02 VALUES LESS THAN ('20200321000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202003_03 VALUES LESS THAN ('20200401000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202004_01 VALUES LESS THAN ('20200411000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202004_02 VALUES LESS THAN ('20200421000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202004_03 VALUES LESS THAN ('20200501000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202005_01 VALUES LESS THAN ('20200511000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202005_02 VALUES LESS THAN ('20200521000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202005_03 VALUES LESS THAN ('20200601000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202006_01 VALUES LESS THAN ('20200611000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202006_02 VALUES LESS THAN ('20200621000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202006_03 VALUES LESS THAN ('20200701000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202007_01 VALUES LESS THAN ('20200711000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202007_02 VALUES LESS THAN ('20200721000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202007_03 VALUES LESS THAN ('20200801000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202008_01 VALUES LESS THAN ('20200811000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202008_02 VALUES LESS THAN ('20200821000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202008_03 VALUES LESS THAN ('20200901000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202009_01 VALUES LESS THAN ('20200911000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202009_02 VALUES LESS THAN ('20200921000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202009_03 VALUES LESS THAN ('20201001000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202010_01 VALUES LESS THAN ('20201011000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202010_02 VALUES LESS THAN ('20201021000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202010_03 VALUES LESS THAN ('20201101000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202011_01 VALUES LESS THAN ('20201111000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202011_02 VALUES LESS THAN ('20201121000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202011_03 VALUES LESS THAN ('20201201000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202012_01 VALUES LESS THAN ('20201211000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202012_02 VALUES LESS THAN ('20201221000000') ENGINE=InnoDB,
 PARTITION METEREVENT_LOG_202012_03 VALUES LESS THAN ('20210101000000')  ENGINE=InnoDB
);



CREATE UNIQUE INDEX PK_METEREVENTLOG ON meterevent_log (OPEN_TIME, activator_id, METEREVENT_ID);
ALTER TABLE meterevent_log ADD CONSTRAINT PK_METEREVENTLOG PRIMARY KEY(OPEN_TIME, activator_id, METEREVENT_ID);