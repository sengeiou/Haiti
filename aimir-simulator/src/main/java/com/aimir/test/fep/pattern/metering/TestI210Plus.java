package com.aimir.test.fep.pattern.metering;

import org.apache.commons.logging.Log;
import org.apache.commons.logging.LogFactory;

import com.aimir.fep.protocol.fmp.client.gprs.GPRSClient;
import com.aimir.fep.protocol.fmp.client.lan.LANClient;
import com.aimir.fep.protocol.fmp.common.GPRSTarget;
import com.aimir.fep.protocol.fmp.common.LANTarget;
import com.aimir.fep.protocol.fmp.frame.service.DFData;
import com.aimir.fep.util.DataUtil;

public class TestI210Plus extends TestMetering {

	private static Log log = LogFactory.getLog(TestI210Plus.class);
	private String byteStr = "0132303139313131333133000000000000000000000000000000000000000000000E040000000D6F000E18FD1638313030343534373300000000000000000000000101020100EB03E3070B0D0D29394E3530390064012C000007E30B0D0D29330007272500000000000000931A010107E30B0D000085881001101000000000010007E30B0D0000858800CD00CD00CD00CC00CC00CC00C900CA00CF00CF009000CC00CCFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4E3530390064012C000007E30B0D0D29330007272500000000000000931A010107E30A1E000004D31001101000000000010007E30A1E000004D300000000000000000000000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4E3530390064012C000007E30B0D0D29330007272500000000000000931A0101FFFFFFFFFFFFFFFF10011010000000000100FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4E3530390064012C000007E30B0D0D29330007272500000000000000931A0101FFFFFFFFFFFFFFFF10011010000000000100FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4E3530390064012C000007E30B0D0D29330007272500000000000000931A0101FFFFFFFFFFFFFFFF10011010000000000100FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4E3530390064012C000007E30B0D0D29330007272500000000000000931A0101FFFFFFFFFFFFFFFF10011010000000000100FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4E3530390064012C000007E30B0D0D29330007272500000000000000931A0101FFFFFFFFFFFFFFFF10011010000000000100FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4E3530390064012C000007E30B0D0D29330007272500000000000000931A0101FFFFFFFFFFFFFFFF10011010000000000100FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF53303031002047452020493231302B20202000000403383130303435343733202020202020204D313134001CC00F00FF3C03000000000000000000000000010001D4C018000A46A44D313135001800008000030000000000000000000000000000000000921E4D303139002849000100000093AB000093AB000093AB0000000000000014000100E6130100002300000000000000";

	public static void main(String[] args) {
		TestI210Plus test = new TestI210Plus();
		test.run();
	}

	@Override
	public void run() {

		DFData dfData = new DFData();
		dfData.setDfData(DataUtil.readByteString(byteStr));
		try {

//            LANTarget target = new LANTarget("172.16.10.180",8000);
//            target.setNameSpace("HA");
//            target.setTargetId("2019072301");
//			LANClient client = new LANClient(target);
//            client.sendDFWithCompress(dfData);
            
			GPRSTarget target = new GPRSTarget("172.16.10.180", 8000);
			target.setNameSpace("HA");
			target.setTargetId("2019072301");
			GPRSClient client = new GPRSClient(target);
			client.sendDF(dfData);

		} catch  (Exception e) {
			e.printStackTrace();
		}
	}

}
